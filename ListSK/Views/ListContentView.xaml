<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:ListSK.Models"
             x:Class="ListSK.Views.ListContentView"
             x:DataType="models:ProductModel">
    <Frame
           BorderColor="Blue"
           HeightRequest="100"
           Margin="10">

        <Frame.Triggers>
            <DataTrigger TargetType="Frame"
                         Binding="{Binding IsOptional}"
                         Value="True">
                <Setter Property="BorderColor" Value="Red"/>
            </DataTrigger>

            <DataTrigger TargetType="Frame"
                         Binding="{Binding IsBought}"
                         Value="True">
                <Setter Property="Opacity" Value="0.5"/>
                <Setter Property="BorderColor" Value="Green"/>
            </DataTrigger>
        </Frame.Triggers>
        
        

        <Grid ColumnDefinitions="Auto,2*,*,*,Auto" RowDefinitions="*" Margin="10">
            <CheckBox IsChecked="{Binding IsBought}"/>
            <Label Text="{Binding Name}" FontSize="Medium" Grid.Column="1" VerticalOptions="Center"/>
            <Entry Text="{Binding Amount}" Grid.Column="2" WidthRequest="50" FontSize="Medium" VerticalOptions="Center"/>
            <Label Text="{Binding Unit}" Grid.Column="3" FontSize="Medium" VerticalOptions="Center"/>
            <Label Text="{Binding Category}" Grid.Column="4" FontSize="Medium" VerticalOptions="Center"/>

            <FlyoutBase.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="UsuÅ„ produkt"
                        Command="{Binding Path=BindingContext.RemoveProductCommand, Source={RelativeSource AncestorType={x:Type ContentPage}}}"
                        CommandParameter="{Binding}"/>
                </MenuFlyout>
            </FlyoutBase.ContextFlyout>
        </Grid>
    </Frame>
</ContentView>
